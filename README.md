# Iris: Gateway for Cardano

Iris is Cardano REST API gateway, and an alternative to Blockfrost.

Iris is designed for private use, and any transactions submitted through an Iris instance the mempool is overlayed over any

The Debian/Ubuntu package generated by running `pnpm run build`, also manages installation of `cardano-node` and `cardano-db-sync` using `git` and `nix`.

`cardano-db-sync` is configured without the heavy `tx_cbor` table.

Block and transaction CBOR bytes are read directly from the `cardano-node` ledger on-disc storage.

Iris is installed under the name `cardano-iris`, and creates the /usr/local/bin/cardano-iris file and /etc/cardano-iris directory.

## How to install

It isn't recommended installing this locally.
The installed artifacts aren't yet cleanly removed upon uninstalling the package, and cardano-node and cardano-db-sync use a lot of resources.

### From source

When building from source you will need the following dependencies:

   * `git`
   * `nodejs`
   * `npm`
   * `bash`
   * `go` v1.24 or later

```sh
git clone https://github.com/HeliosLang/cardano-node-ctl helios-gateway
cd helios-gateway
npm install
npm run build
```

Copy the `cardano-node-ctl-0.1.0.deb` package to the server you want to install this on, and run:

```sh
sudo dpkg -i cardano-iris-0.1.0.deb
```

The installation will ask if you want to configure `cardano-node` for preprod or for mainnet.

## API

Endpoints:

   * `GET https://<host>/api/address/<address-bech32-string>/utxos`: all current UTXOs at the given address
   * `GET https://<host>/api/block/<block-hash-hex>`: cbor bytes of a block
   * `GET https://<host>/api/block/<block-hash-hex>/tx/<tx-index>`: cbor bytes of a block tx
   * `GET https://<host>/api/chain/tip`: chain tip info
   * `GET https://<host>/api/parameters`: current network parameters
   * `GET https://<host>/api/policy/<policy-hex>/assets`: all assets with the given policy
   * `GET https://<host>/api/policy/<policy-hex>/asset/<asset-name-hex>/addresses`: all holders of an asset
   * `POST https://<host>/api/tx`: submit a transaction
   * `GET https://<host>/api/tx/<tx-hash-hex>`: cbor bytes of a transaction
   * `GET https://<host>/api/tx/<tx-hash-hex>/block`: block info of a transaction
   * `GET https://<host>/api/tx/<tx-hash-hex>/output/<output-index>`: cbor bytes of a UTXO

Endpoints that return CBOR bytes, support the following formats depending on the value of the `Accept` header in the request:

   * `application/cbor`: `<cbor-bytes>`
   * `application/json`: `{"cborHex": "<cbor-hex>"}`
   * default (`text/plain`): `<cbor-hex>`

The `application/cbor` format is the most efficient and should be preferred for production applications.
